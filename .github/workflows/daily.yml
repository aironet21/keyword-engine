name: Auto Keyword Generator
on:
  workflow_dispatch: # Agar kita bisa klik tombol "Run Workflow" secara manual

jobs:
  debug-and-run:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: LIHAT DAFTAR FILE (Detective Step)
        run: |
          echo "SAYA BERADA DI DIREKTORI:"
          pwd
          echo "---"
          echo "DAFTAR SEMUA FILE DI REPO INI:"
          ls -R
          echo "---"

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Jalankan Python (Dengan Penanganan Error)
        env:
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
        run: |
          if [ -f "generator.py" ]; then
            python generator.py
          elif [ -f "Generator.py" ]; then
            python Generator.py
          else
            echo "ERROR: File generator.py BENAR-BENAR TIDAK ADA."
            exit 1
          fi
